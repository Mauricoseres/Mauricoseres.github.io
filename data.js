document.addEventListener("DOMContentLoaded", function() {
    const pharmacySchedule = {
        "2024-01-01": "I", "2024-01-02": "J", "2024-01-03": "K", "2024-01-04": "L", "2024-01-05": "A", 
        "2024-01-06": "B", "2024-01-07": "C", "2024-01-08": "D", "2024-01-09": "E", "2024-01-10": "F", 
        "2024-01-11": "G", "2024-01-12": "H", "2024-01-13": "I", "2024-01-14": "J", "2024-01-15": "K",
        "2024-01-16": "L", "2024-01-17": "A", "2024-01-18": "B", "2024-01-19": "C", "2024-01-20": "D",
        "2024-01-21": "E", "2024-01-22": "F", "2024-01-23": "G", "2024-01-24": "H", "2024-01-25": "I",
        "2024-01-26": "J", "2024-01-27": "K", "2024-01-28": "L", "2024-01-29": "A", "2024-01-30": "B",
        "2024-01-31": "C",
        
        "2024-02-01": "H", "2024-02-02": "I", "2024-02-03": "J", "2024-02-04": "K", "2024-02-05": "L", 
        "2024-02-06": "A", "2024-02-07": "B", "2024-02-08": "C", "2024-02-09": "D", "2024-02-10": "E",
        "2024-02-11": "F", "2024-02-12": "G", "2024-02-13": "H", "2024-02-14": "I", "2024-02-15": "J", 
        "2024-02-16": "K", "2024-02-17": "L", "2024-02-18": "A", "2024-02-19": "B", "2024-02-20": "C",
        "2024-02-21": "D", "2024-02-22": "E", "2024-02-23": "F", "2024-02-24": "G", "2024-02-25": "H", 
        "2024-02-26": "I", "2024-02-27": "J", "2024-02-28": "K", "2024-02-29": "L",

        "2024-03-01": "A", "2024-03-02": "B", "2024-03-03": "C", "2024-03-04": "D", "2024-03-05": "E",
        "2024-03-06": "F", "2024-03-07": "G", "2024-03-08": "H", "2024-03-09": "I", "2024-03-10": "J",
        "2024-03-11": "K", "2024-03-12": "L", "2024-03-13": "A", "2024-03-14": "B", "2024-03-15": "C",
        "2024-03-16": "D", "2024-03-17": "E", "2024-03-18": "F", "2024-03-19": "G", "2024-03-20": "H",
        "2024-03-21": "I", "2024-03-22": "J", "2024-03-23": "K", "2024-03-24": "L", "2024-03-25": "A",
        "2024-03-26": "B", "2024-03-27": "C", "2024-03-28": "D", "2024-03-29": "E", "2024-03-30": "F",
        "2024-03-31": "G",

        "2024-04-01": "H", "2024-04-02": "I", "2024-04-03": "J", "2024-04-04": "K", "2024-04-05": "L",
        "2024-04-06": "A", "2024-04-07": "B", "2024-04-08": "C", "2024-04-09": "D", "2024-04-10": "E",
        "2024-04-11": "F", "2024-04-12": "G", "2024-04-13": "H", "2024-04-14": "I", "2024-04-15": "J",
        "2024-04-16": "K", "2024-04-17": "L", "2024-04-18": "A", "2024-04-19": "B", "2024-04-20": "C",
        "2024-04-21": "D", "2024-04-22": "E", "2024-04-23": "F", "2024-04-24": "G", "2024-04-25": "H",
        "2024-04-26": "I", "2024-04-27": "J", "2024-04-28": "K", "2024-04-29": "L", "2024-04-30": "A",

        "2024-05-01": "B", "2024-05-02": "C", "2024-05-03": "D", "2024-05-04": "E", "2024-05-05": "F",
        "2024-05-06": "G", "2024-05-07": "H", "2024-05-08": "I", "2024-05-09": "J", "2024-05-10": "K",
        "2024-05-11": "L", "2024-05-12": "A", "2024-05-13": "B", "2024-05-14": "C", "2024-05-15": "D",
        "2024-05-16": "E", "2024-05-17": "F", "2024-05-18": "G", "2024-05-19": "H", "2024-05-20": "I",
        "2024-05-21": "J", "2024-05-22": "K", "2024-05-23": "L", "2024-05-24": "A", "2024-05-25": "B",
        "2024-05-26": "C", "2024-05-27": "D", "2024-05-28": "E", "2024-05-29": "F", "2024-05-30": "G",
        "2024-05-31": "H",

        "2024-06-01": "I", "2024-06-02": "J", "2024-06-03": "K", "2024-06-04": "L", "2024-06-05": "A",
        "2024-06-06": "B", "2024-06-07": "C", "2024-06-08": "D", "2024-06-09": "E", "2024-06-10": "F",
        "2024-06-11": "G", "2024-06-12": "H", "2024-06-13": "I", "2024-06-14": "J", "2024-06-15": "K",
        "2024-06-16": "L", "2024-06-17": "A", "2024-06-18": "B", "2024-06-19": "C", "2024-06-20": "D",
        "2024-06-21": "E", "2024-06-22": "F", "2024-06-23": "G", "2024-06-24": "H", "2024-06-25": "I",
        "2024-07-01": "C", "2024-07-02": "D", "2024-07-03": "E", "2024-07-04": "F", "2024-07-05": "G", 
        
    "2024-07-06": "H", "2024-07-07": "I", "2024-07-08": "J", "2024-07-09": "K", "2024-07-10": "L", 
    "2024-07-11": "A", "2024-07-12": "B", "2024-07-13": "C", "2024-07-14": "D", "2024-07-15": "E",
    "2024-07-16": "F", "2024-07-17": "G", "2024-07-18": "H", "2024-07-19": "I", "2024-07-20": "J",
    "2024-07-21": "K", "2024-07-22": "L", "2024-07-23": "A", "2024-07-24": "B", "2024-07-25": "C",
    "2024-07-26": "D", "2024-07-27": "E", "2024-07-28": "F", "2024-07-29": "G", "2024-07-30": "H",
    "2024-07-31": "I",

    // Agosto 2024
    "2024-08-01": "J", "2024-08-02": "K", "2024-08-03": "L", "2024-08-04": "A", "2024-08-05": "B",
    "2024-08-06": "C", "2024-08-07": "D", "2024-08-08": "E", "2024-08-09": "F", "2024-08-10": "G",
    "2024-08-11": "H", "2024-08-12": "I", "2024-08-13": "J", "2024-08-14": "K", "2024-08-15": "L",
    "2024-08-16": "A", "2024-08-17": "B", "2024-08-18": "C", "2024-08-19": "D", "2024-08-20": "E",
    "2024-08-21": "F", "2024-08-22": "G", "2024-08-23": "H", "2024-08-24": "I", "2024-08-25": "J",
    "2024-08-26": "K", "2024-08-27": "L", "2024-08-28": "A", "2024-08-29": "B", "2024-08-30": "C",
    "2024-08-31": "D",

    // Septiembre 2024
    "2024-09-01": "E", "2024-09-02": "F", "2024-09-03": "G", "2024-09-04": "H", "2024-09-05": "I",
    "2024-09-06": "J", "2024-09-07": "K", "2024-09-08": "L", "2024-09-09": "A", "2024-09-10": "B",
    "2024-09-11": "C", "2024-09-12": "D", "2024-09-13": "E", "2024-09-14": "F", "2024-09-15": "G",
    "2024-09-16": "H", "2024-09-17": "I", "2024-09-18": "J", "2024-09-19": "K", "2024-09-20": "L",
    "2024-09-21": "A", "2024-09-22": "B", "2024-09-23": "C", "2024-09-24": "D", "2024-09-25": "E",
    "2024-09-26": "F", "2024-09-27": "G", "2024-09-28": "H", "2024-09-29": "I", "2024-09-30": "J",

    // Octubre 2024
    "2024-10-01": "K", "2024-10-02": "L", "2024-10-03": "A", "2024-10-04": "B", "2024-10-05": "C",
    "2024-10-06": "D", "2024-10-07": "E", "2024-10-08": "F", "2024-10-09": "G", "2024-10-10": "H",
    "2024-10-11": "I", "2024-10-12": "J", "2024-10-13": "K", "2024-10-14": "L", "2024-10-15": "A",
    "2024-10-16": "B", "2024-10-17": "C", "2024-10-18": "D", "2024-10-19": "E", "2024-10-20": "F",
    "2024-10-21": "G", "2024-10-22": "H", "2024-10-23": "I", "2024-10-24": "J", "2024-10-25": "K",
    "2024-10-26": "L", "2024-10-27": "A", "2024-10-28": "B", "2024-10-29": "C", "2024-10-30": "D",
    "2024-10-31": "E",

    // Noviembre 2024
    "2024-11-01": "F", "2024-11-02": "G", "2024-11-03": "H", "2024-11-04": "I", "2024-11-05": "J",
    "2024-11-06": "K", "2024-11-07": "L", "2024-11-08": "A", "2024-11-09": "B", "2024-11-10": "C",
    "2024-11-11": "D", "2024-11-12": "E", "2024-11-13": "F", "2024-11-14": "G", "2024-11-15": "H",
    "2024-11-16": "I", "2024-11-17": "J", "2024-11-18": "K", "2024-11-19": "L", "2024-11-20": "A",
    "2024-11-21": "B", "2024-11-22": "C", "2024-11-23": "D", "2024-11-24": "E", "2024-11-25": "F",
    "2024-11-26": "G", "2024-11-27": "H", "2024-11-28": "I", "2024-11-29": "J", "2024-11-30": "K",

    // Diciembre 2024
    "2024-12-01": "L", "2024-12-02": "A", "2024-12-03": "B", "2024-12-04": "C", "2024-12-05": "D",
    "2024-12-06": "E", "2024-12-07": "F", "2024-12-08": "G", "2024-12-09": "H", "2024-12-10": "I",
    "2024-12-11": "J", "2024-12-12": "K", "2024-12-13": "L", "2024-12-14": "A", "2024-12-15": "B",
    "2024-12-16": "C", "2024-12-17": "D", "2024-12-18": "E", "2024-12-19": "F", "2024-12-20": "G",
    "2024-12-21": "H", "2024-12-22": "I", "2024-12-23": "J", "2024-12-24": "K", "2024-12-25": "L",
    "2024-12-26": "A", "2024-12-27": "B", "2024-12-28": "C", "2024-12-29": "D", "2024-12-30": "E",
    "2024-12-31": "F"

        
} ;

const currentDate = new Date().toISOString().split('T')[0];
document.getElementById("current-date").textContent = currentDate;
document.getElementById("date-picker").value = currentDate;

function showPharmacies(date) {
    const turno = pharmacySchedule[date];
    const pharmacies = pharmacyData[turno] || [];
    const pharmaciesList = document.getElementById("pharmacies-list");
    pharmaciesList.innerHTML = '';
    pharmacies.forEach(pharmacy => {
        const listItem = document.createElement("li");
        listItem.innerHTML = `${pharmacy.name} - ${pharmacy.address} <a href="https://www.google.com/maps/search/?api=1&query=${pharmacy.lat},${pharmacy.lng}" target="_blank"><img class="location-icon" src="https://img.icons8.com/ios-filled/50/000000/marker.png" alt="Location Icon"></a>`;
        pharmaciesList.appendChild(listItem);
    });
}

document.getElementById("date-picker").addEventListener("change", function(event) {
    const selectedDate = event.target.value;
    document.getElementById("current-date").textContent = selectedDate;
    showPharmacies(selectedDate);
});

// Show pharmacies for the current date on initial load
showPharmacies(currentDate);
});